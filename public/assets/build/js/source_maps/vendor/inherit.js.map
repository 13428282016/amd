{"version":3,"sources":["vendor/inherit.js"],"names":["global","getPropList","obj","res","objKeys","needCheckProps","specProp","i","specProps","hasOwnProperty","push","override","base","add","name","prop","addList","j","len","length","isFunction","hasIntrospection","toString","indexOf","baseMethod","__self","__parent","noOp","result","baseSaved","this","__base","apply","arguments","applyMixins","mixins","mixin","inherit","self","prototype","args","withMixins","isArray","hasBase","emptyBase","props","staticProps","__constructor","constructor","extend","basePtp","resPtp","objCreate","Object","create","ptp","inheritance","keys","call","o1","o2","toStr","Array","testPropObj","defineAsGlobal","exports","module","modules","define","provide","amd","require"],"mappings":"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","file":"vendor/inherit.js","sourcesContent":["/**\n * @module inherit\n * @version 2.2.3\n * @author Filatov Dmitry <dfilatov@yandex-team.ru>\n * @description This module provides some syntax sugar for \"class\" declarations, constructors, mixins, \"super\" calls and static members.\n */\n\n(function(global) {\n\nvar hasIntrospection = (function(){'_';}).toString().indexOf('_') > -1,\n    emptyBase = function() {},\n    hasOwnProperty = Object.prototype.hasOwnProperty,\n    objCreate = Object.create || function(ptp) {\n        var inheritance = function() {};\n        inheritance.prototype = ptp;\n        return new inheritance();\n    },\n    objKeys = Object.keys || function(obj) {\n        var res = [];\n        for(var i in obj) {\n            hasOwnProperty.call(obj, i) && res.push(i);\n        }\n        return res;\n    },\n    extend = function(o1, o2) {\n        for(var i in o2) {\n            hasOwnProperty.call(o2, i) && (o1[i] = o2[i]);\n        }\n\n        return o1;\n    },\n    toStr = Object.prototype.toString,\n    isArray = Array.isArray || function(obj) {\n        return toStr.call(obj) === '[object Array]';\n    },\n    isFunction = function(obj) {\n        return toStr.call(obj) === '[object Function]';\n    },\n    noOp = function() {},\n    needCheckProps = true,\n    testPropObj = { toString : '' };\n\nfor(var i in testPropObj) { // fucking ie hasn't toString, valueOf in for\n    testPropObj.hasOwnProperty(i) && (needCheckProps = false);\n}\n\nvar specProps = needCheckProps? ['toString', 'valueOf'] : null;\n\nfunction getPropList(obj) {\n    var res = objKeys(obj);\n    if(needCheckProps) {\n        var specProp, i = 0;\n        while(specProp = specProps[i++]) {\n            obj.hasOwnProperty(specProp) && res.push(specProp);\n        }\n    }\n\n    return res;\n}\n\nfunction override(base, res, add) {\n    var addList = getPropList(add),\n        j = 0, len = addList.length,\n        name, prop;\n    while(j < len) {\n        if((name = addList[j++]) === '__self') {\n            continue;\n        }\n        prop = add[name];\n        if(isFunction(prop) &&\n                (!hasIntrospection || prop.toString().indexOf('.__base') > -1)) {\n            res[name] = (function(name, prop) {\n                var baseMethod = base[name]?\n                        base[name] :\n                        name === '__constructor'? // case of inheritance from plain function\n                            res.__self.__parent :\n                            noOp,\n                    result = function() {\n                        var baseSaved = this.__base;\n\n                        this.__base = result.__base;\n                        var res = prop.apply(this, arguments);\n                        this.__base = baseSaved;\n\n                        return res;\n                    };\n                result.__base = baseMethod;\n\n                return result;\n            })(name, prop);\n        } else {\n            res[name] = prop;\n        }\n    }\n}\n\nfunction applyMixins(mixins, res) {\n    var i = 1, mixin;\n    while(mixin = mixins[i++]) {\n        res?\n            isFunction(mixin)?\n                inherit.self(res, mixin.prototype, mixin) :\n                inherit.self(res, mixin) :\n            res = isFunction(mixin)?\n                inherit(mixins[0], mixin.prototype, mixin) :\n                inherit(mixins[0], mixin);\n    }\n    return res || mixins[0];\n}\n\n/**\n* Creates class\n* @exports\n* @param {Function|Array} [baseClass|baseClassAndMixins] class (or class and mixins) to inherit from\n* @param {Object} prototypeFields\n* @param {Object} [staticFields]\n* @returns {Function} class\n*/\nfunction inherit() {\n    var args = arguments,\n        withMixins = isArray(args[0]),\n        hasBase = withMixins || isFunction(args[0]),\n        base = hasBase? withMixins? applyMixins(args[0]) : args[0] : emptyBase,\n        props = args[hasBase? 1 : 0] || {},\n        staticProps = args[hasBase? 2 : 1],\n        res = props.__constructor || (hasBase && base.prototype.__constructor)?\n            function() {\n                return this.__constructor.apply(this, arguments);\n            } :\n            hasBase?\n                function() {\n                    return base.apply(this, arguments);\n                } :\n                function() {};\n\n    if(!hasBase) {\n        res.prototype = props;\n        res.prototype.__self = res.prototype.constructor = res;\n        return extend(res, staticProps);\n    }\n\n    extend(res, base);\n\n    res.__parent = base;\n\n    var basePtp = base.prototype,\n        resPtp = res.prototype = objCreate(basePtp);\n\n    resPtp.__self = resPtp.constructor = res;\n\n    props && override(basePtp, resPtp, props);\n    staticProps && override(base, res, staticProps);\n\n    return res;\n}\n\ninherit.self = function() {\n    var args = arguments,\n        withMixins = isArray(args[0]),\n        base = withMixins? applyMixins(args[0], args[0][0]) : args[0],\n        props = args[1],\n        staticProps = args[2],\n        basePtp = base.prototype;\n\n    props && override(basePtp, basePtp, props);\n    staticProps && override(base, base, staticProps);\n\n    return base;\n};\n\nvar defineAsGlobal = true;\nif(typeof exports === 'object') {\n    module.exports = inherit;\n    defineAsGlobal = false;\n}\n\nif(typeof modules === 'object') {\n    modules.define('inherit', function(provide) {\n        provide(inherit);\n    });\n    defineAsGlobal = false;\n}\n\nif(typeof define === 'function' && define.amd) {\n    define(function(require, exports, module) {\n        module.exports = inherit;\n    });\n    defineAsGlobal = false;\n}\n\ndefineAsGlobal && (global.inherit = inherit);\n\n})(this);\n"],"sourceRoot":"/source/"}
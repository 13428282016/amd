<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <script src="http://assets.dev.com:8081/js/vendor/require.js"></script>
    <script src="http://assets.dev.com:8081/js/config/require.js"></script>
    <script src="http://assets.dev.com:8081/js/common/play_page.js"></script>
    <script src="http://assets.dev.com:8081/js/app/play_page/nearest-main.js"></script>

</head>
<body>

<div id="d">

</div>
<script src="http://assets.dev.com:8081/js/app/play_page/dom_ready_player.js"></script>

<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div>
<div>

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div><div >

</div>
<div class="global-nav"><nav class="container nav"><div class="dropdown m-menu"><a href="javascript:void(0);" id="dLabel" class="visible-xs-block m-toptools" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="glyphicon glyphicon-align-justify"></span><span class="mobile-menu__unreadpoint"></span></a><ul class="dropdown-menu" role="menu" aria-labelledby="dLabel"><li class="mobile-menu__item"><a href="/questions/newest">问答</a></li><li class="mobile-menu__item"><a href="/blogs">文章</a></li><li class="mobile-menu__item"><a href="/user/note">笔记</a></li><li class="mobile-menu__item"><a href="/jobs">职位</a></li><li class="mobile-menu__item"><a href="/events">活动</a></li><li class="mobile-menu__item"><a href="/tags">标签</a></li><li class="mobile-menu__item"><a href="/users">榜单</a></li><li class="mobile-menu__item"><a href="/sites">子站</a></li></ul></div><h1 class="logo"><a class="sf" href="/">SegmentFault</a></h1><a href="/user/login" class="visible-xs-block pull-right m-ask m-toptools"><span class="glyphicon glyphicon-log-in"></span></a><ul class="menu list-inline pull-left hidden-xs"><li class="menu__item"><a href="/questions">问答</a></li><li class="menu__item"><a href="/blogs">文章</a></li><li class="menu__item"><a href="/user/note">笔记</a></li><li class="menu__item"><a href="/jobs">职位</a></li><li class="menu__item"><a href="/events">活动</a></li></ul><ul class="opts pull-right list-inline hidden-xs"><li class="opts__item message has-unread"><a target="_blank" href="/tour"><span class="sr-only">消息</span><span id="messageCount" class="fa fa-hand-peace-o"></span></a></li><li class="opts__item"><a href="/user/login" class="SFLogin em ml10" onclick="_gaq.push(['_trackEvent', 'Button', 'Click', 'Login']);">注册 · 登录</a></li></ul><form action="/search" class="header-search pull-right hidden-sm hidden-xs"><button class="btn btn-link"><span class="sr-only">搜索</span><span class="glyphicon glyphicon-search"></span></button><input id="searchBox" name="q" type="text" placeholder="输入关键字搜索" class="form-control" value=""></form></nav></div><div class="global-navTags"><div class="container"><nav class=" nav"><ul class="nav__list"><li class="nav__item"><a href="/"><i class="fa fa-home"></i>home
</a></li><li class="nav__item"><a href="/timeline"><i class="fa fa-list-alt"></i>feed
</a></li><li class="nav__item nav__item--split"><a><span class="split"></span></a></li><li class="nav__item tag-nav__item"><a href="/t/javascript">javascript</a></li><li class="nav__item tag-nav__item"><a href="/t/php">php</a></li><li class="nav__item tag-nav__item"><a href="/t/python">python</a></li><li class="nav__item tag-nav__item"><a href="/t/java">java</a></li><li class="nav__item tag-nav__item"><a href="/t/mysql">mysql</a></li><li class="nav__item tag-nav__item"><a href="/t/ios">ios</a></li><li class="nav__item tag-nav__item"><a href="/t/android">android</a></li><li class="nav__item tag-nav__item"><a href="/t/node.js">node.js</a></li><li class="nav__item tag-nav__item"><a href="/t/html5">html5</a></li><li class="nav__item tag-nav__item"><a href="/t/linux">linux</a></li><li class="nav__item tag-nav__item"><a href="/t/c%2B%2B">c++</a></li><li class="nav__item tag-nav__item"><a href="/t/css3">css3</a></li><li class="nav__item tag-nav__item"><a href="/t/git">git</a></li><li class="nav__item tag-nav__item"><a href="/t/golang">golang</a></li><li class="nav__item tag-nav__item"><a href="/t/ruby">ruby</a></li><li class="nav__item tag-nav__item"><a href="/t/vim">vim</a></li><li class="nav__item tag-nav__item"><a href="/t/docker">docker</a></li><li class="nav__item tag-nav__item"><a href="/t/mongodb">mongodb</a></li><li class="nav__item nav__item--more" data-open="0"><a class="nav__item--more-link" href="/tags"><div class="tag__more"><i class="tag__more--icon"></i><i class="tag__more--icon"></i><i class="tag__more--icon"></i></div></a></li></ul><div class="tag-mgr__box hide"><input class="tag-mgr__query" type="text" placeholder="搜索关注的标签" data-tags="null"><ul class="tag-mgr__list mCustomScrollbar _mCS_1 mCS-autoHide mCS_no_scrollbar" data-mcs-theme="minimal-dark" style="position: relative; overflow: visible;"><div id="mCSB_1" class="mCustomScrollBox mCS-minimal-dark mCSB_vertical mCSB_outside" style="max-height: 134px;" tabindex="0"><div id="mCSB_1_container" class="mCSB_container mCS_y_hidden mCS_no_scrollbar_y" style="position:relative; top:0; left:0;" dir="ltr"></div></div><div id="mCSB_1_scrollbar_vertical" class="mCSB_scrollTools mCSB_1_scrollbar mCS-minimal-dark mCSB_scrollTools_vertical" style="display: none;"><div class="mCSB_draggerContainer"><div id="mCSB_1_dragger_vertical" class="mCSB_dragger" style="position: absolute; min-height: 50px; top: 0px;" oncontextmenu="return false;"><div class="mCSB_dragger_bar" style="line-height: 50px;"></div></div><div class="mCSB_draggerRail"></div></div></div></ul><a href="/tags" class="btn btn-primary btn-sm tag-mgr__btn">标签管理</a></div></nav></div></div>
<div class="wrap">
    <div class="post-topheader custom-">
        <div class="container">
            <div class="row">
                <div class="col-md-9 col-sm-8 col-xs-12">
                    <h1 class="h3 title clearfix" id="articleTitle" data-id="1190000002403806">
                        <span class="article__title--icon-symbol mb10">文</span>
                        <a href="/a/1190000002403806"> RequireJS进阶:模块的优化及配置的详解</a>
                    </h1>
                    <div class="author" data-username="两仪" data-userslug="liangyi" data-useravatar="https://sfault-avatar.b0.upaiyun.com/163/795/1637953227-54601b67a363c_big64">


                        <ul class="taglist--inline pull-left article__title--tag hidden-xs">
                            <li class="tagPopup"><a class="tag" href="/t/requirejs/blogs" data-toggle="popover" data-img="" data-placement="top" data-original-title="requirejs" data-id="1040000000320626">requirejs</a></li>
                            <li class="tagPopup"><a class="tag" href="/t/%E5%BC%82%E6%AD%A5%E6%A8%A1%E5%9D%97%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6-amd/blogs" data-toggle="popover" data-img="" data-placement="top" data-original-title="异步模块加载机制-amd" data-id="1040000000321863">异步模块加载机制-amd</a></li>
                        </ul>

                        <a href="/u/liangyi" class="mr5 ml15"><strong>两仪</strong></a>
                        2014年12月03日发布
                    </div>
                </div>
                <div class="col-md-3 col-sm-4 hidden-xs">
                    <ul class="widget-action--ver list-unstyled">
                        <li>
                            <button type="button" class="btn btn-success btn-sm" data-id="1190000002403806" id="sideLike">推荐
                            </button>
                            <strong id="sideLiked">7</strong> 推荐
                        </li>
                        <li>
                            <button type="button" id="sideBookmark" class="btn btn-default btn-sm" data-id="1190000002403806" data-type="article">收藏
                            </button>
                            <strong id="sideBookmarked">45</strong> 收藏，<strong class="no-stress">6.9k</strong> 浏览
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div><!-- end .post-topheader -->

    <div class="container mt30">
        <div class="row">
            <div class="col-xs-12 col-md-9 main ">

                <div class="article fmt article__content">

                    <h2 id="articleHeader0">概述</h2>

                    <p>关于RequireJS已经有很多文章介绍过了。这个工具可以将你的JavaScript代码轻易的分割成苦干个模块(module)并且保持你的代码模块化与易维护性。这样，你将获得一些具有互相依赖关系的JavaScript文件。仅仅需要在你的HTML文档中引用一个基于RequireJS的脚本文件，所有必须的文件都将会被自动引用到这个页面上.</p>

                    <p>但是，在生产环境中将所有的JavaScript文件分离，这是一个不好的做法。这会导致很多次请求(requests)，即使这个些文件都很小，也会浪费很多时间。 可以通过合并这些脚本文件，以减少请求的次数达到节省加载时间的目的。<br>
                        另一种节省加载时间的技巧是缩小这些被加载文件的大小，相对小一些的文件会传输的更快一些。这个过程叫作最小化 (minification) ，它是通过小心的改变脚本文件的代码结构并且不改变代码的形为(behavior)和功能(functionality)来实现的。例如这些：去除不必要的空格，缩短(mangling，或都压缩)变量(variables)名与函数(methods，或者叫方法)名，等等。这种合并并压缩文件的过程叫做代码优化( optimization)。这种方法除了用于优化(optimization)JavaScript文件，同样适用于CSS文件的优化。</p>

                    <p>RequireJS有两个主要方法(method): define()和require()。这两个方法基本上拥有相同的定义(declaration) 并且它们都知道如何加载的依赖关系，然后执行一个回调函数(callback function)。与require()不同的是， define()用来存储代码作为一个已命名的模块。 因此define()的回调函数需要有一个返回值作为这个模块定义。这些类似被定义的模块叫作AMD (Asynchronous Module Definition，异步模块定义)。</p>

                    <p>下面通过一个示例讲解如何优化RequireJS项目。（这段话来自下面的参考连接）</p>

                    <h2 id="articleHeader1">所需环境</h2>

                    <p>Node.js、r.js、RequireJS、以及示例程序，示例程序的下载地址为：<a rel="nofollow" href="http://www.webdeveasy.com/code/optimize-requirejs-projects/todo-mvc.zip" target="_blank">http://www.webdeveasy.com/code/optimize-requirejs-projects/todo-mvc.zip</a></p>

                    <h2 id="articleHeader2">配置参数介绍</h2>

                    <p>涉及的操作请可以参考上面的示例，本文的主要目的主要是通过示例来讲解配置参数的使用。</p>

                    <h3 id="articleHeader3">appDir</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="appDir: './'
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">appDir</span>: <span class="hljs-string">'./'</span>
</code></pre>

                    <p>应用程序的顶级目录,如果这个选项被开启的话，那么你的脚本文件是这个目录路径下的一个子目录。这个是个可选项。如果没有设置的话，则通过<strong>baseUrl</strong>这个参数下的锚点来查找文件(?)。如果设置了该选项的话，那么这个路径下的所有文件都会被复制到<strong>dir</strong>指定的输出目录，并且<strong>baseUrl</strong>这个目录的路径是相对于该路径。</p>

                    <h3 id="articleHeader4">baseUrl</h3>

<pre class="hljs http"><div class="widget-codetool" style="display: none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="baseUrl: './js'
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">baseUrl</span>: <span class="hljs-string">'./js'</span>
</code></pre>

                    <p>默认情况下，所以的模块都相对于这个路径存在(有人称为脚本的跟路径)，如果<strong>baseUrl</strong>没有明确指定的话，那么所有的模块路径都相对与build构建文件的路径。如果<strong>appDir</strong>已设置，那么<strong>baseUrl</strong> 的路径是相对与<strong>appDir</strong>。</p>

                    <h3 id="articleHeader5">mainConfigFile</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="mainConfigFile: '../some/path/to/main.js'
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">mainConfigFile</span>: <span class="hljs-string">'../some/path/to/main.js'</span>
</code></pre>

                    <p><strong>RequireJS</strong>的主配置文件。这里要区分配置文件和入口文件的区别，示例中的main.js即包含配置文件同时又是文件的入口文件。</p>

                    <h3 id="articleHeader6">paths</h3>

<pre class="hljs coffeescript"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="paths: {
        &quot;foo.bar&quot;: &quot;../scripts/foo/bar&quot;,
        &quot;baz&quot;: &quot;../another/path/baz&quot;
    },
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">paths</span>: {
    <span class="hljs-string">"foo.bar"</span>: <span class="hljs-string">"../scripts/foo/bar"</span>,
    <span class="hljs-string">"baz"</span>: <span class="hljs-string">"../another/path/baz"</span>
    },
</code></pre>

                    <p>参见： <a rel="nofollow" href="http://segmentfault.com/blog/liangyi/1190000002401665" title="配置文件">RequireJS进阶:配置文件的学习</a></p>

                    <h3 id="articleHeader7">map</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="map: {},
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">map</span>: <span class="hljs-string">{},</span>
</code></pre>

                    <p>参见： <a rel="nofollow" href="http://segmentfault.com/blog/liangyi/1190000002401665" title="配置文件" target="_blank">RequireJS进阶:配置文件的学习</a></p>

                    <h3 id="articleHeader8">packages</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="packages: [],
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">packages</span>: <span class="hljs-string">[],</span>
</code></pre>

                    <p>参见： <a rel="nofollow" href="http://segmentfault.com/blog/liangyi/1190000002401665" title="配置文件">RequireJS进阶:配置文件的学习</a></p>

                    <h3 id="articleHeader9">dir</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="dir: &quot;../some/path&quot;
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">dir</span>: <span class="hljs-string">"../some/path"</span>
</code></pre>

                    <p>文件输出的顶级目录。如果没有指定的话，默认会创建一个“build”目录在<strong>build</strong>文件的路径中。所有相对路径是相对于构建文件。</p>

                    <h3 id="articleHeader10">keepBuildDir</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="keepBuildDir: true
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">keepBuildDir</span>: <span class="hljs-string">true</span>
</code></pre>

                    <p>在 RequireJS 2.0.2 中，输出目录的所有资源会在 build 前被删除。值为 true 时 rebuild 更快，但某些特殊情景下可能会出现无法预料的异常</p>

                    <h3 id="articleHeader11">shim</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="shim: {},
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">shim</span>: <span class="hljs-string">{},</span>
</code></pre>

                    <p>参见： <a rel="nofollow" href="http://segmentfault.com/blog/liangyi/1190000002401665" title="配置文件" target="_blank">RequireJS进阶:配置文件的学习</a></p>

                    <h3 id="articleHeader12">wrapShim</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="wrapShim: false,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">wrapShim</span>: <span class="hljs-string">false,</span>
</code></pre>

                    <p>禁止非模块包裹<strong>define</strong>函数。</p>

                    <h3 id="articleHeader13">locale</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="locale: &quot;en-us&quot;,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">locale</span>: <span class="hljs-string">"en-us",</span>
</code></pre>

                    <p>国际化配置设置。</p>

                    <h3 id="articleHeader14">optimize</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="optimize: &quot;uglify&quot;,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">optimize</span>: <span class="hljs-string">"uglify",</span>
</code></pre>

                    <p>优化脚本文件的方式。值只能取下面的任何值中的一个。</p>

                    <ul>
                        <li><p>"uglify": (default) uses UglifyJS to minify the code.</p></li>
                        <li><p>"uglify2": in version 2.1.2+. Uses UglifyJS2.</p></li>
                        <li><p>"closure": uses Google's Closure Compiler in simple optimizationmode to minify the code. Only available if running the optimizer using Java.</p></li>
                        <li><p>"closure.keepLines": Same as closure option, but keeps line returns in the minified files.</p></li>
                        <li><p>"none": no minification will be done.</p></li>
                    </ul>
                    <h3 id="articleHeader15">skipDirOptimize</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="skipDirOptimize: false,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">skipDirOptimize</span>: <span class="hljs-string">false,</span>
</code></pre>

                    <p>当设置为true时，优化器将会跳过非构建中被约束的JS文件。</p>

                    <h3 id="articleHeader16">generateSourceMaps</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="generateSourceMaps: false,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">generateSourceMaps</span>: <span class="hljs-string">false,</span>
</code></pre>

                    <p>是否生成<strong>SourceMaps</strong>文件，什么是<strong>SourceMaps</strong>，参考<a rel="nofollow" href="http://www.ruanyifeng.com/blog/2013/01/javascript_source_map.html" title="JavaScript Source Map" target="_blank">SourceMaps</a></p>

                    <h3 id="articleHeader17">normalizeDirDefines</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="normalizeDirDefines: &quot;skip&quot;,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">normalizeDirDefines</span>: <span class="hljs-string">"skip",</span>
</code></pre>

                    <p>2.1.11中：如果dir被声明且不为”none”，并且skipDirOptimize 为false，通常所有的JS文件都会被压缩，这个值自动设置为”all”。为了让JS文件能够在压缩过正确执行，优化器会加一层define()调用并且会插入一个依赖数组。当然，这样会有一点点慢如果有很多文件或者有大文件的时候。所以，设置该参数为”skip”这个过程就不会执行，如果optimize设置为”none”也一样。如果你想手动设置值的话：</p>

                    <ul>
                        <li><p>优化后：如果你打算压缩没在modules声明的JS文件，在优化器执行过后，你应该设置这个值为”all”</p></li>
                        <li><p>优化中：但在动态加载过后，你想做一个会文件优化，但不打算在动态加载这些文件可以设置成”skip”</p></li>
                    </ul>
                    <p>最后：所有生成的文件（无论在不在modules里声明过）自动标准化</p>

                    <h3 id="articleHeader18">uglify</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="uglify: {
        toplevel: true,
        ascii_only: true,
        beautify: true,
        max_line_length: 1000,

        //How to pass uglifyjs defined symbols for AST symbol replacement,
        //see &quot;defines&quot; options for ast_mangle in the uglifys docs.
        defines: {
            DEBUG: ['name', 'false']
        },

        //Custom value supported by r.js but done differently
        //in uglifyjs directly:
        //Skip the processor.ast_mangle() part of the uglify call (r.js 2.0.5+)
        no_mangle: true
    },
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">uglify</span>: <span class="hljs-string">{</span>
    <span class="hljs-attribute">toplevel</span>: <span class="hljs-string">true,</span>
    <span class="hljs-attribute">ascii_only</span>: <span class="hljs-string">true,</span>
    <span class="hljs-attribute">beautify</span>: <span class="hljs-string">true,</span>
    <span class="hljs-attribute">max_line_length</span>: <span class="hljs-string">1000,</span>

<span class="cs">        <span class="hljs-comment">//How to pass uglifyjs defined symbols for AST symbol replacement,</span>
        <span class="hljs-comment">//see "defines" options for ast_mangle in the uglifys docs.</span>
        defines: {
            DEBUG: [<span class="hljs-string">'name'</span>, <span class="hljs-string">'false'</span>]
        },

        <span class="hljs-comment">//Custom value supported by r.js but done differently</span>
        <span class="hljs-comment">//in uglifyjs directly:</span>
        <span class="hljs-comment">//Skip the processor.ast_mangle() part of the uglify call (r.js 2.0.5+)</span>
        no_mangle: <span class="hljs-keyword">true</span>
    },
</span></code></pre>

                    <p>使用UglifyJS进行代码压缩，具体参数配置可见<a rel="nofollow" href="https://github.com/mishoo/UglifyJS" title="UglifyJS" target="_blank">UglifyJS</a></p>

                    <h3 id="articleHeader19">uglify2</h3>

<pre class="hljs cs"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="uglify2: {
        //Example of a specialized config. If you are fine
        //with the default options, no need to specify
        //any of these properties.
        output: {
            beautify: true
        },
        compress: {
            sequences: false,
            global_defs: {
                DEBUG: false
            }
        },
        warnings: true,
        mangle: false
    },
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code>uglify2: {
    <span class="hljs-comment">//Example of a specialized config. If you are fine</span>
    <span class="hljs-comment">//with the default options, no need to specify</span>
    <span class="hljs-comment">//any of these properties.</span>
    output: {
    beautify: <span class="hljs-keyword">true</span>
    },
    compress: {
    sequences: <span class="hljs-keyword">false</span>,
    global_defs: {
    DEBUG: <span class="hljs-keyword">false</span>
    }
    },
    warnings: <span class="hljs-keyword">true</span>,
    mangle: <span class="hljs-keyword">false</span>
    },
</code></pre>

                    <p>使用UglifyJS2进行代码压缩， 具体参数配置可见<a rel="nofollow" href="https://github.com/mishoo/UglifyJS2#compressor-options" target="_blank">UglifyJS2</a></p>

                    <h3 id="articleHeader20">closure</h3>

<pre class="hljs coffeescript"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="closure: {
    CompilerOptions: {},
    CompilationLevel: 'SIMPLE_OPTIMIZATIONS',
    loggingLevel: 'WARNING'
},
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">closure</span>: {
    <span class="hljs-attribute">CompilerOptions</span>: {},
    <span class="hljs-attribute">CompilationLevel</span>: <span class="hljs-string">'SIMPLE_OPTIMIZATIONS'</span>,
    <span class="hljs-attribute">loggingLevel</span>: <span class="hljs-string">'WARNING'</span>
    },
</code></pre>

                    <p>如果用Closure Compiler优化，这个参数可以用来配置Closure Compiler，详细请看Closure Compiler的文档</p>

                    <h3 id="articleHeader21">optimizeCss</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="optimizeCss: &quot;standard.keepLines.keepWhitespace&quot;,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">optimizeCss</span>: <span class="hljs-string">"standard.keepLines.keepWhitespace",</span>
</code></pre>

                    <p>是否优化CSS文件，以那种方式优化。</p>

                    <ul>
                        <li>"standard": @import inlining and removal of comments, unnecessary whitespace and line returns.Removing line returns may have problems in IE, depending on the type of CSS.</li>
                        <li>"standard.keepLines": like "standard" but keeps line returns.</li>
                        <li>"none": skip CSS optimizations.</li>
                        <li>"standard.keepComments": keeps the file comments, but removes linereturns.  (r.js 1.0.8+)</li>
                        <li>"standard.keepComments.keepLines": keeps the file comments and linereturns. (r.js 1.0.8+)</li>
                        <li>"standard.keepWhitespace": like "standard" but keeps unnecessary whitespace.</li>
                    </ul>
                    <h3 id="articleHeader22">cssImportIgnore</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text=" cssImportIgnore: null,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code> <span class="hljs-attribute">cssImportIgnore</span>: <span class="hljs-string">null,</span>
</code></pre>

                    <p>是否忽略 CSS 资源文件中的 @import 指令</p>

                    <h3 id="articleHeader23">cssIn</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="cssIn: &quot;path/to/main.css&quot;,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">cssIn</span>: <span class="hljs-string">"path/to/main.css",</span>
</code></pre>

                    <p>一般用于命令行，可将多个 CSS 资源文件打包成单个 CSS 文件</p>

                    <h3 id="articleHeader24">out</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="out: &quot;path/to/css-optimized.css&quot;,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">out</span>: <span class="hljs-string">"path/to/css-optimized.css",</span>
</code></pre>

                    <p>一般用于命令行，可将多个 CSS 资源文件打包成单个 CSS 文件</p>

                    <h3 id="articleHeader25">cssPrefix</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="cssPrefix: &quot;&quot;,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">cssPrefix</span>: <span class="hljs-string">"",</span>
</code></pre>

                    <p>如果”out”和”cssIn”不是同一目录，并且在cssIn文件里面有url()相对目录的，用这个去设置URL前置。仅仅在优化后URL不正确的情况下使用。</p>

                    <h3 id="articleHeader26">inlineText</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="inlineText: true,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">inlineText</span>: <span class="hljs-string">true,</span>
</code></pre>

                    <p>处理所有的文本资源依赖项，从而避免为加载资源而产生的大量单独xhr请求</p>

                    <h3 id="articleHeader27">useStrict</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="useStrict: false,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">useStrict</span>: <span class="hljs-string">false,</span>
</code></pre>

                    <p>是否开启严格模式, 由于很多浏览器不支持 ES5 的严格模式，故此配置默认值为 false</p>

                    <h3 id="articleHeader28">pragmas</h3>

<pre class="hljs css"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="pragmas: {
    fooExclude: true
},
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-tag">pragmas</span>: <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">fooExclude</span>:<span class="hljs-value"> true
</span></span></span>},
</code></pre>

                    <p>指定生成编译指示。如果源文件包含类似如下注释：&gt;&gt;excludeStart(“fooExlude”,pragmas.fooExclude); &gt;&gt;excludeEnd(“fooExclude”);那么以//&gt;&gt;开头的注释就是编译指示。excludeStart/excludeEnd和includeStart/includeEnd起作用，在includeStart或excludeStart中的编译指示值将参与计算来判断Start和End之前的编译指示是include还是exclude。如果你可以选择用”has”或编译指示，建议用”has”代替。 编译指示比较难于阅读，但是它在对代码移除上比较灵活。基于”has”的代码必须遵守JavaScript规则。编译指示还可以在未压缩的代码中删除代码，而”has”只能通过UglifyJS或者Closure Compiler来做。</p>

                    <h3 id="articleHeader29">pragmasOnSave</h3>

<pre class="hljs cs"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="pragmasOnSave: {
        //Just an example
        excludeCoffeeScript: true
    },
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code>pragmasOnSave: {
    <span class="hljs-comment">//Just an example</span>
    excludeCoffeeScript: <span class="hljs-keyword">true</span>
    },
</code></pre>

                    <p>和”pragmas”一样，但只能在文件保存的优化阶段应用一次。”pragmas”可以同时在依赖映射和文件保存优化阶段应用。有些”pragmas”可能不会在依赖映射时被执行，例如在CoffeeScript的loader插件中，只想CoffeeScript做依赖映射，但是一旦这个文件被保存为一个javascript文件，CoffeeScript compiler就没用了。那样的话，pragmasOnSave就会用于在保存期排除编译代码。</p>

                    <h3 id="articleHeader30">has</h3>

<pre class="hljs coffeescript"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="has: {
        'function-bind': true,
        'string-trim': false
    },
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">has</span>: {
    <span class="hljs-string">'function-bind'</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">'string-trim'</span>: <span class="hljs-literal">false</span>
    },
</code></pre>

                    <p>使用”has”允许trimming代码树。基于js的特征检测：<a rel="nofollow" href="https://github.com/phiggins42/has.js" target="_blank">https://github.com/phiggins42/has.js</a>。代码树修饰仅仅在使用UglifyJS或Closure Compiler压缩时发生。更多请见：<a rel="nofollow" href="http://requirejs.org/docs/optimization.html#hasjs" target="_blank">http://requirejs.org/docs/optimization.html#hasjs</a></p>

                    <h3 id="articleHeader31">hasOnSave</h3>

<pre class="hljs coffeescript"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text=" hasOnSave: {
        'function-bind': true,
        'string-trim': false
    },
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code> <span class="hljs-attribute">hasOnSave</span>: {
    <span class="hljs-string">'function-bind'</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">'string-trim'</span>: <span class="hljs-literal">false</span>
    },
</code></pre>

                    <p>和pragmasOnSave类似。</p>

                    <h3 id="articleHeader32">namespace</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="namespace: 'foo',
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">namespace</span>: <span class="hljs-string">'foo',</span>
</code></pre>

                    <p>命名空间，完整实例可以参考 <a rel="nofollow" href="http://requirejs.org/docs/faq-advanced.html#rename" target="_blank">http://requirejs.org/docs/faq-advanced.html#rename</a></p>

                    <h3 id="articleHeader33">skipPragmas</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="skipPragmas: false,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">skipPragmas</span>: <span class="hljs-string">false,</span>
</code></pre>

                    <p>跳过执行pragmas</p>

                    <h3 id="articleHeader34">skipModuleInsertion</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="skipModuleInsertion: false,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">skipModuleInsertion</span>: <span class="hljs-string">false,</span>
</code></pre>

                    <p>如果是false，文件就不会用define()来定义模块而是用一个define()占位符插入其中。另外，require.pause/resume调用也会被插入。设置为”true”来避免。这个参数用在你不是用require()来创建项目或者写js文件，但是又想使用RquireJS的优化工具来合并模块是非常有用的。</p>

                    <h3 id="articleHeader35">stubModules</h3>

<pre class="hljs coffeescript"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="stubModules: ['text', 'bar'],
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">stubModules</span>: [<span class="hljs-string">'text'</span>, <span class="hljs-string">'bar'</span>],
</code></pre>

                    <p>将模块排除在优化文件之外。</p>

                    <h3 id="articleHeader36">optimizeAllPluginResources</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="optimizeAllPluginResources: false,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">optimizeAllPluginResources</span>: <span class="hljs-string">false,</span>
</code></pre>

                    <p>如果不是一个文件的优化，描述输出目录的所有.js文件的插件依赖，如果这个插件支持优化成为一个单独的文件，就优化它。可能是一个比较慢的优化过程。仅仅在有些插件用了像XMLHttpRequest不支持跨域，并且生成的代码会被放在另一个域名。</p>

                    <h3 id="articleHeader37">findNestedDependencies</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="findNestedDependencies: false,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">findNestedDependencies</span>: <span class="hljs-string">false,</span>
</code></pre>

                    <p>寻找require()里面的require或define调用的依赖。默认为false是因为这些资源应该被认为是动态加载或者实时调用的。当然，有些优化场景也需要将它们合并在一起。</p>

                    <h3 id="articleHeader38">removeCombined</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="removeCombined: false
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">removeCombined</span>: <span class="hljs-string">false</span>
</code></pre>

                    <p>如果设置为true，在输出目录将会删除掉已经合并了的文件</p>

                    <h3 id="articleHeader39">modules</h3>

<pre class="hljs cs"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="modules: [
        //Just specifying a module name means that module will be converted into
        //a built file that contains all of its dependencies. If that module or any
        //of its dependencies includes i18n bundles, they may not be included in the
        //built file unless the locale: section is set above.
        {
            name: &quot;foo/bar/bop&quot;,

            //create: true can be used to create the module layer at the given
            //name, if it does not already exist in the source location. If
            //there is a module at the source location with this name, then
            //create: true is superfluous.
            create: true,

            //For build profiles that contain more than one modules entry,
            //allow overrides for the properties that set for the whole build,
            //for example a different set of pragmas for this module.
            //The override's value is an object that can
            //contain any of the other build options in this file.
            override: {
                pragmas: {
                    fooExclude: true
                }
            }
        },

        //This module entry combines all the dependencies of foo/bar/bop and foo/bar/bee
        //and any of their dependencies into one file.
        {
            name: &quot;foo/bar/bop&quot;,
            include: [&quot;foo/bar/bee&quot;]
        },

        //This module entry combines all the dependencies of foo/bar/bip into one file,
        //but excludes foo/bar/bop and its dependencies from the built file. If you want
        //to exclude a module that is also another module being optimized, it is more
        //efficient if you define that module optimization entry before using it
        //in an exclude array.
        {
            name: &quot;foo/bar/bip&quot;,
            exclude: [
                &quot;foo/bar/bop&quot;
            ]
        },

        //This module entry shows how to specify a specific module be excluded
        //from the built module file. excludeShallow means just exclude that
        //specific module, but if that module has nested dependencies that are
        //part of the built file, keep them in there. This is useful during
        //development when you want to have a fast bundled set of modules, but
        //just develop/debug one or two modules at a time.
        {
            name: &quot;foo/bar/bin&quot;,
            excludeShallow: [
                &quot;foo/bar/bot&quot;
            ]
        },

        //This module entry shows the use insertRequire (first available in 2.0):
        {
            name: &quot;foo/baz&quot;,
            insertRequire: [&quot;foo/baz&quot;]
        }
    ],
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code>modules: [
    <span class="hljs-comment">//Just specifying a module name means that module will be converted into</span>
    <span class="hljs-comment">//a built file that contains all of its dependencies. If that module or any</span>
    <span class="hljs-comment">//of its dependencies includes i18n bundles, they may not be included in the</span>
    <span class="hljs-comment">//built file unless the locale: section is set above.</span>
    {
    name: <span class="hljs-string">"foo/bar/bop"</span>,

    <span class="hljs-comment">//create: true can be used to create the module layer at the given</span>
    <span class="hljs-comment">//name, if it does not already exist in the source location. If</span>
    <span class="hljs-comment">//there is a module at the source location with this name, then</span>
    <span class="hljs-comment">//create: true is superfluous.</span>
    create: <span class="hljs-keyword">true</span>,

    <span class="hljs-comment">//For build profiles that contain more than one modules entry,</span>
    <span class="hljs-comment">//allow overrides for the properties that set for the whole build,</span>
    <span class="hljs-comment">//for example a different set of pragmas for this module.</span>
    <span class="hljs-comment">//The override's value is an object that can</span>
    <span class="hljs-comment">//contain any of the other build options in this file.</span>
    <span class="hljs-keyword">override</span>: {
    pragmas: {
    fooExclude: <span class="hljs-keyword">true</span>
    }
    }
    },

    <span class="hljs-comment">//This module entry combines all the dependencies of foo/bar/bop and foo/bar/bee</span>
    <span class="hljs-comment">//and any of their dependencies into one file.</span>
    {
    name: <span class="hljs-string">"foo/bar/bop"</span>,
    include: [<span class="hljs-string">"foo/bar/bee"</span>]
    },

    <span class="hljs-comment">//This module entry combines all the dependencies of foo/bar/bip into one file,</span>
    <span class="hljs-comment">//but excludes foo/bar/bop and its dependencies from the built file. If you want</span>
    <span class="hljs-comment">//to exclude a module that is also another module being optimized, it is more</span>
    <span class="hljs-comment">//efficient if you define that module optimization entry before using it</span>
    <span class="hljs-comment">//in an exclude array.</span>
    {
    name: <span class="hljs-string">"foo/bar/bip"</span>,
    exclude: [
    <span class="hljs-string">"foo/bar/bop"</span>
    ]
    },

    <span class="hljs-comment">//This module entry shows how to specify a specific module be excluded</span>
    <span class="hljs-comment">//from the built module file. excludeShallow means just exclude that</span>
    <span class="hljs-comment">//specific module, but if that module has nested dependencies that are</span>
    <span class="hljs-comment">//part of the built file, keep them in there. This is useful during</span>
    <span class="hljs-comment">//development when you want to have a fast bundled set of modules, but</span>
    <span class="hljs-comment">//just develop/debug one or two modules at a time.</span>
    {
    name: <span class="hljs-string">"foo/bar/bin"</span>,
    excludeShallow: [
    <span class="hljs-string">"foo/bar/bot"</span>
    ]
    },

    <span class="hljs-comment">//This module entry shows the use insertRequire (first available in 2.0):</span>
    {
    name: <span class="hljs-string">"foo/baz"</span>,
    insertRequire: [<span class="hljs-string">"foo/baz"</span>]
    }
    ],
</code></pre>

                    <p>列出要优化的模块。如果有依赖i18n的，只有root层会被包含进来除非locale:块在上面被声明过。</p>

                    <p>①仅定义模块会被转换成一个生成目标文件的名字，包含所有依赖项。i18n依赖同上，</p>

                    <p>create：true可用来生成在源文件目录不存在的给定模块名。如果源文件目录已经存在一个相同名称的模块，create参数就没用了；</p>

                    <p>override:可以重写全局的pragmas</p>

                    <p>②这个模块声明编译foo/bar/bop的所有依赖和foo/bar/bee及其所有依赖</p>

                    <p>③编译所有foo/bar/bip的依赖到一个文件，但是排除foo/bar/bop和它的所有依赖文件，如果想把另一个模块单独优化，这是一个很好用的方法</p>

                    <p>④excludeShallow只排除掉这个模块，但是如果输出模块的依赖和它有相同就保留不排除。</p>

                    <p>⑤这个模块声明表示用insertRequire（在2.0中新加入）</p>

                    <h3 id="articleHeader40">insertRequire</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="insertRequire: ['foo/bar/bop'],
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">insertRequire</span>: <span class="hljs-string">['foo/bar/bop'],</span>
</code></pre>

                    <p>如果目标模块在顶层级只调用了define没有调用require()，并且输出文件在data-main中使用，如果顶层没有require，就不会有任何模块被加载。定义insertRequire在文件尾部来执行其它模块，更多参见：<a rel="nofollow" href="https://github.com/jrburke/almond" target="_blank">https://github.com/jrburke/almond</a></p>

                    <h3 id="articleHeader41">name</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="name: &quot;foo/bar/bop&quot;,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">name</span>: <span class="hljs-string">"foo/bar/bop",</span>
</code></pre>

                    <h3 id="articleHeader42">include</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="include: [&quot;foo/bar/bee&quot;],
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">include</span>: <span class="hljs-string">["foo/bar/bee"],</span>
</code></pre>

                    <h3 id="articleHeader43">insertRequire</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="insertRequire: ['foo/bar/bop'],
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">insertRequire</span>: <span class="hljs-string">['foo/bar/bop'],</span>
</code></pre>

                    <h3 id="articleHeader44">out</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="out: &quot;path/to/optimized-file.js&quot;,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">out</span>: <span class="hljs-string">"path/to/optimized-file.js",</span>
</code></pre>

                    <p>如果只优化一个模块（和它的依赖项），而且是生成一个单文件，你可以在行内定义模块的选项，以代替modules参数的定义方式，”exclude”, “excludeShallow”, “include”和”insertRquire”都可以以兄弟属性的方式定义。</p>

                    <h3 id="articleHeader45">deps</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="deps: [&quot;foo/bar/bee&quot;],
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">deps</span>: <span class="hljs-string">["foo/bar/bee"],</span>
</code></pre>

                    <p>“include”的替换方案。一般用requirejs.config()来定义并用mainConfigFile引入。</p>

                    <h3 id="articleHeader46">out</h3>

<pre class="hljs sql"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="out: function (text, sourceMapText) {
        //Do what you want with the optimized text here.
        //Starting in 2.1.10, if generateSourceMaps was set to true
        //and optimize: 'uglify2' was used, then the second argument
        //to this function, sourceMapText, will be the text of the source map.
    },
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code>out: function (text, sourceMapText) {
    //<span class="hljs-operator"><span class="hljs-keyword">Do</span> what you want <span class="hljs-keyword">with</span> the optimized <span class="hljs-built_in">text</span> here.
        //<span class="hljs-keyword">Starting</span> <span class="hljs-keyword">in</span> <span class="hljs-number">2.1</span><span class="hljs-number">.10</span>, <span class="hljs-keyword">if</span> generateSourceMaps was <span class="hljs-keyword">set</span> <span class="hljs-keyword">to</span> <span class="hljs-literal">true</span>
        //<span class="hljs-keyword">and</span> <span class="hljs-keyword">optimize</span>: <span class="hljs-string">'uglify2'</span> was used, <span class="hljs-keyword">then</span> the <span class="hljs-keyword">second</span> argument
        //<span class="hljs-keyword">to</span> this <span class="hljs-keyword">function</span>, sourceMapText, will be the <span class="hljs-built_in">text</span> <span class="hljs-keyword">of</span> the source map.
    },
</span></code></pre>

                    <p>在2.0，”out”可以是一个函数， 对单个JS文件优化可以调用requirejs.optimize()， 用out函数表示优化过后的内容不会被写到磁盘，而是传递给out函数</p>

                    <h3 id="articleHeader47">out</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="out: “stdout”
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">out</span>: <span class="hljs-string">“stdout”</span>
</code></pre>

                    <p>在2.0.12+， 设置”out”为”stdout”， 优化输出会写到STDOUT，这对于r.js整合其它命令行工具很有用。为了避免额外的输出”logLevel: 4”应该被使用。</p>

                    <h3 id="articleHeader48">wrap</h3>

<pre class="hljs css"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="wrap: {
    start: &quot;(function() {&quot;,
    end: &quot;}());&quot;
},
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-tag">wrap</span>: <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">start</span>:<span class="hljs-value"> <span class="hljs-string">"(function() {"</span>,
    end: <span class="hljs-string">"}());"</span>
</span></span></span>},
</code></pre>

                    <p>wrap任何东西在start和end之间，用于define/require不是全局的情况下，在end里可以暴露全局对象在文件中。</p>

                    <h3 id="articleHeader49">wrap</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="wrap: true,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">wrap</span>: <span class="hljs-string">true,</span>
</code></pre>

                    <p>wrap的另一种方式，默认是(function() { + content + }())</p>

                    <h3 id="articleHeader50">wrap</h3>

<pre class="hljs css"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="wrap: {
    startFile: &quot;parts/start.frag&quot;,
    endFile: &quot;parts/end.frag&quot;
},
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-tag">wrap</span>: <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">startFile</span>:<span class="hljs-value"> <span class="hljs-string">"parts/start.frag"</span>,
    endFile: <span class="hljs-string">"parts/end.frag"</span>
</span></span></span>},
</code></pre>

                    <p>用文件来wrap</p>

                    <h3 id="articleHeader51">wrap</h3>

<pre class="hljs css"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="wrap: {
    startFile: [&quot;parts/startOne.frag&quot;, &quot;parts/startTwo.frag&quot;],
    endFile: [&quot;parts/endOne.frag&quot;, &quot;parts/endTwo.frag&quot;]
},
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-tag">wrap</span>: <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">startFile</span>:<span class="hljs-value"> [<span class="hljs-string">"parts/startOne.frag"</span>, <span class="hljs-string">"parts/startTwo.frag"</span>],
    endFile: [<span class="hljs-string">"parts/endOne.frag"</span>, <span class="hljs-string">"parts/endTwo.frag"</span>]
</span></span></span>},
</code></pre>

                    <p>多个文件的wrap</p>

                    <h3 id="articleHeader52">fileExclusionRegExp</h3>

                    <p>fileExclusionRegExp: /^./,<br>
                        跳过任何以.开头的目录和文件，比如.files, .htaccess等</p>

                    <h3 id="articleHeader53">preserveLicenseComments</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="preserveLicenseComments: true,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">preserveLicenseComments</span>: <span class="hljs-string">true,</span>
</code></pre>

                    <p>默认注释有授权在里面。当然，在大项目生成时，文件比较多，注释也比较多，这样可以把所有注释写在文件的顶部。</p>

                    <h3 id="articleHeader54">logLevel</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="logLevel: 0
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">logLevel</span>: <span class="hljs-string">0</span>
</code></pre>

                    <p>设置logLevel。</p>

                    <p>TRACE: 0,</p>

                    <p>INFO: 1</p>

                    <p>WARN: 2</p>

                    <p>ERROR: 3</p>

                    <p>SILENT: 4</p>

                    <h3 id="articleHeader55">throwWhen</h3>

<pre class="hljs css"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="throwWhen: {
  optimize: true
}
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-tag">throwWhen</span>: <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">optimize</span>:<span class="hljs-value"> true
</span></span></span>}
</code></pre>

                    <p>在2.1.3，有些情况下当错误发生时不会抛出异常并停止优化，你可能想让优化器在某些错误发生时停止，就可以使用这个参数</p>

                    <h3 id="articleHeader56">onBuildRead</h3>

<pre class="hljs javascript"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="onBuildRead: function (moduleName, path, contents) {
    //Always return a value.
    //This is just a contrived example.
    return contents.replace(/foo/g, 'bar');
},
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code>onBuildRead: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(moduleName, path, contents)</span> </span>{
    <span class="hljs-comment">//Always return a value.</span>
    <span class="hljs-comment">//This is just a contrived example.</span>
    <span class="hljs-keyword">return</span> contents.replace(<span class="hljs-regexp">/foo/g</span>, <span class="hljs-string">'bar'</span>);
    },
</code></pre>

                    <p>当每个文件被读取的时候调用这个方法来改变文件内容</p>

                    <h3 id="articleHeader57">onBuildWrite</h3>

<pre class="hljs javascript"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="onBuildWrite: function (moduleName, path, contents) {
    //Always return a value.
    //This is just a contrived example.
    return contents.replace(/bar/g, 'foo');
},
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code>onBuildWrite: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(moduleName, path, contents)</span> </span>{
    <span class="hljs-comment">//Always return a value.</span>
    <span class="hljs-comment">//This is just a contrived example.</span>
    <span class="hljs-keyword">return</span> contents.replace(<span class="hljs-regexp">/bar/g</span>, <span class="hljs-string">'foo'</span>);
    },
</code></pre>

                    <p>允许在写入目标文件前执行方法改变内容</p>

                    <h3 id="articleHeader58">onModuleBundleComplete</h3>

<pre class="hljs javascript"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="onModuleBundleComplete: function (data) {
    /*
    data.name: the bundle name.
    data.path: the bundle path relative to the output directory.
    data.included: an array of items included in the build bundle.
    If a file path, it is relative to the output directory. Loader
    plugin IDs are also included in this array, but depending
    on the plugin, may or may not have something inlined in the
    module bundle.
    */
},
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code>onModuleBundleComplete: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(data)</span> </span>{
    <span class="hljs-comment">/*
    data.name: the bundle name.
    data.path: the bundle path relative to the output directory.
    data.included: an array of items included in the build bundle.
    If a file path, it is relative to the output directory. Loader
    plugin IDs are also included in this array, but depending
    on the plugin, may or may not have something inlined in the
    module bundle.
    */</span>
    },
</code></pre>

                    <p>每个JS模块集完成后执行。 模块集是指一个modules数组项。</p>

                    <h3 id="articleHeader59">rawText</h3>

<pre class="hljs coffeescript"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="rawText: {
    'some/id': 'define([&quot;another/id&quot;], function () {});'
},
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">rawText</span>: {
    <span class="hljs-string">'some/id'</span>: <span class="hljs-string">'define(["another/id"], function () {});'</span>
    },
</code></pre>

                    <p>在2.1.3，种子raw text是模块ID的列表。这些文本内容用于代替模块的文件IO调用。用于模块ID是基于用户动态输入的情况，在网页生成工具中常用。</p>

                    <h3 id="articleHeader60">cjsTranslate</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="cjsTranslate: true,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">cjsTranslate</span>: <span class="hljs-string">true,</span>
</code></pre>

                    <p>在2.0.2中。如果为true, 优化器会添加define(require, exports, module) {})；包裹每一个没有调用define()的文件。</p>

                    <h3 id="articleHeader61">useSourceUrl</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="useSourceUrl: true,
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">useSourceUrl</span>: <span class="hljs-string">true,</span>
</code></pre>

                    <p>在2.0.2，有点实验性质。每一个模块集最后都会添加一段//# sourceUrl的注释。</p>

                    <h3 id="articleHeader62">waitSeconds</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="waitSeconds: 7
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">waitSeconds</span>: <span class="hljs-string">7</span>
</code></pre>

                    <p>参见： <a rel="nofollow" href="http://segmentfault.com/blog/liangyi/1190000002401665" title="配置文件">RequireJS进阶:配置文件的学习</a></p>

                    <h3 id="articleHeader63">skipSemiColonInsertion</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="skipSemiColonInsertion: false
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">skipSemiColonInsertion</span>: <span class="hljs-string">false</span>
</code></pre>

                    <p>在2.1.9，通常r.js插入一个分号在文件末尾，如果没有的话。</p>

                    <h3 id="articleHeader64">keepAmdefine</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="keepAmdefine: false
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">keepAmdefine</span>: <span class="hljs-string">false</span>
</code></pre>

                    <p>在2.1.10， 如果是true，就不会删除amdefine，详情见：<a rel="nofollow" href="https://github.com/jrburke/amdefine" target="_blank">https://github.com/jrburke/amdefine</a></p>

                    <h3 id="articleHeader65">allowSourceOverwrites</h3>

<pre class="hljs http"><div class="widget-codetool" style="display:none;"><button class="selectCode btn btn-xs">全选</button><button href="javascript:void(0);" class="copyCode btn btn-xs" data-clipboard-text="allowSourceOverwrites: false
" data-toggle="tooltip" data-placement="top" title="">复制</button><button href="javascript:void(0);" class="saveToNote btn btn-xs">放进笔记</button></div><code><span class="hljs-attribute">allowSourceOverwrites</span>: <span class="hljs-string">false</span>
</code></pre>

                    <p>在2.1.11中， 作为修复BUG的一部分<a rel="nofollow" href="https://github.com/jrburke/r.js/issues/444" target="_blank">https://github.com/jrburke/r.js/issues/444</a>。设置为true就允许源代码进行重写覆盖。当然，为了安全起见，请正确配置，比如你可能想设置”keepBuildDir”为true。</p>

                    <h2 id="articleHeader66">帮助文档</h2>

                    <p>参考链接：<a rel="nofollow" href="http://jiongks.sinaapp.com/blog/build-any-web-project-with-requirejs-optimizer/" target="_blank">http://jiongks.sinaapp.com/blog/build-any-web-project-with-requirejs-optimizer/</a><br>
                        英文文档（r.js）：<a rel="nofollow" href="https://github.com/jrburke/r.js/blob/master/build/example.build.js" target="_blank">https://github.com/jrburke/r.js/blob/master/build/example.build.js</a><br>
                        参考链接：<a rel="nofollow" href="http://www.oschina.net/translate/optimize-requirejs-projects" target="_blank">http://www.oschina.net/translate/optimize-requirejs-projects</a><br>
                        参考链接：<a rel="nofollow" href="http://www.cnblogs.com/haoliang/p/3656475.html" target="_blank">http://www.cnblogs.com/haoliang/p/3656475.html</a><br>
                        参考链接：<a rel="nofollow" href="http://www.yfznw.com/node/22" target="_blank">http://www.yfznw.com/node/22</a></p>

                    <p>PS：如果涉及侵权或者文章有错误，请及时通知。</p>

                </div>

                <div class="clearfix mt10">

                    <ul class="article-operation list-inline pull-left">
                        <li><a href="/a/1190000002403806" class="text-muted">2014年12月03日发布</a></li>
                    </ul>
                </div>

                <div class="text-center mt10">

                    <button type="button" id="mainLike" data-id="1190000002403806" class="btn btn-success btn-lg mr10">
                        7 推荐
                    </button>

                    <button type="button" id="mainBookmark" data-type="article" data-id="1190000002403806" class="btn btn-default btn-lg ">
                        收藏
                    </button>
                </div>

                <div class="recommend-post pt30 mt40 mb30 border-top">
                    <div class="row">
                        <div class="col-md-8">
                            <h4 class="mt0">你可能感兴趣的文章</h4>
                            <ul class="widget-links list-unstyled">
                                <li class="widget-links__item">
                                    <a href="/a/1190000004174614" title="webpack学习笔记（一）认知webpack与安装">webpack学习笔记（一）认知webpack与安装</a>
                                    <small class="text-muted">
                                        5 收藏，253
                                        浏览
                                    </small>
                                </li>
                                <li class="widget-links__item">
                                    <a href="/a/1190000000733959" title="详解JavaScript模块化开发 ">详解JavaScript模块化开发 </a>
                                    <small class="text-muted">
                                        136 收藏，13k
                                        浏览
                                    </small>
                                </li>
                                <li class="widget-links__item">
                                    <a href="/a/1190000000492678" title="浅谈 JavaScript 模块化编程">浅谈 JavaScript 模块化编程</a>
                                    <small class="text-muted">
                                        67 收藏，5k
                                        浏览
                                    </small>
                                </li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                        </div>
                    </div>

                </div>
                <!-- <ul class="list-unstyled text-muted mt30">
                        <li>上一篇：<a href="/a/1190000002401665">RequireJS进阶:配置文件的学习</a></li>
                                            <li class="mt5">下一篇：<a href="/a/1190000002406687">gulp初体验</a></li>
                    </ul> -->

                <h2 class="h4 post-comment-title">讨论区</h2>
                <div class="widget-comments" id="comment-1190000002403806" data-id="1190000002403806"><div class="widget-comments__item hover-show " id="1050000002405545"><div class="votes widget-vote"><button class="like  hover-show-obj" data-id="1050000002405545" type="button" data-do="like" data-type="comment"></button><span class="count">&nbsp;</span>    </div><div class="comment-content wordbreak">          <div class="content fmt"><p>配置参数太多了，不可能一下全部学会运用  只能边用边学了。</p>
                </div><textarea name="text" rows="1" id="commentText-1050000002405545" class="editTextarea form-control mb10 hidden">配置参数太多了，不可能一下全部学会运用  只能边用边学了。</textarea><p class="comment-meta">            <a href="/c/1050000002405545" class="text-muted"></a>&nbsp;<a href="/u/liangyi" class="commentUser" data-userid="1030000000589521" data-username="两仪" data-userslug="liangyi" data-useravatar="https://sfault-avatar.b0.upaiyun.com/163/795/1637953227-54601b67a363c_medium40"><strong>两仪</strong></a> · <span class="createdDate">2014年12月04日</span><span class="pull-right commentTools hover-show-obj"> <a href="#" class="commentReply mr5" data-userid="1030000000589521" data-id="1050000002405545" data-username="两仪"><span class="flipx glyphicon glyphicon-share-alt" aria-hidden="true"></span></a><a href="#911" class="ml10" data-toggle="modal" data-target="#911" data-type="comment" data-id="1050000002405545" data-typetext="评论" data-placement="top" title="举报"><span class="glyphicon glyphicon-flag" aria-hidden="true"></span></a></span></p></div></div><div class="widget-comments__item hover-show " id="1050000002627978"><div class="votes widget-vote"><button class="like  hover-show-obj" data-id="1050000002627978" type="button" data-do="like" data-type="comment"></button><span class="count">&nbsp;</span>    </div><div class="comment-content wordbreak">          <div class="content fmt"><p>仪兄，请问下,为什么这样函数依赖jquery是错误的，出现undefined。路径是正确的<br>
                    define(['../libs/jquery-1.7.2'],function($){<br>
                    alert($);<br>
                    });</p>
                </div><textarea name="text" rows="1" id="commentText-1050000002627978" class="editTextarea form-control mb10 hidden">仪兄，请问下,为什么这样函数依赖jquery是错误的，出现undefined。路径是正确的
define(['../libs/jquery-1.7.2'],function($){
  alert($);
});</textarea><p class="comment-meta">            <a href="/c/1050000002627978" class="text-muted"></a>&nbsp;<a href="/u/feiqingqinglvxingzailushang" class="commentUser" data-userid="1030000002493894" data-username="EMMA" data-userslug="feiqingqinglvxingzailushang" data-useravatar="https://sf-static.b0.upaiyun.com/v-56d02577/global/img/user-40.png"><strong>EMMA</strong></a> · <span class="createdDate">2015年03月27日</span><span class="pull-right commentTools hover-show-obj"> <a href="#" class="commentReply mr5" data-userid="1030000002493894" data-id="1050000002627978" data-username="EMMA"><span class="flipx glyphicon glyphicon-share-alt" aria-hidden="true"></span></a><a href="#911" class="ml10" data-toggle="modal" data-target="#911" data-type="comment" data-id="1050000002627978" data-typetext="评论" data-placement="top" title="举报"><span class="glyphicon glyphicon-flag" aria-hidden="true"></span></a></span></p></div></div><div class="widget-comments__item hover-show " id="1050000002628113"><div class="votes widget-vote"><button class="like  hover-show-obj" data-id="1050000002628113" type="button" data-do="like" data-type="comment"></button><span class="count">&nbsp;</span>    </div><div class="comment-content wordbreak">  <span>回复 <a href="/u/feiqingqinglvxingzailushang">EMMA</a>：</span>        <div class="content fmt"><p>路径不对，你看下调试工具生成的路径是什么，然后有一点注意的是，建议不要这样写，可以把路径写在配置里。</p>
                </div><textarea name="text" rows="1" id="commentText-1050000002628113" class="editTextarea form-control mb10 hidden">路径不对，你看下调试工具生成的路径是什么，然后有一点注意的是，建议不要这样写，可以把路径写在配置里。</textarea><p class="comment-meta">            <a href="/c/1050000002628113" class="text-muted"></a>&nbsp;<a href="/u/liangyi" class="commentUser" data-userid="1030000000589521" data-username="两仪" data-userslug="liangyi" data-useravatar="https://sfault-avatar.b0.upaiyun.com/163/795/1637953227-54601b67a363c_medium40"><strong>两仪</strong></a> · <span class="createdDate">2015年03月27日</span><span class="pull-right commentTools hover-show-obj"> <a href="#" class="commentReply mr5" data-userid="1030000000589521" data-id="1050000002628113" data-username="两仪"><span class="flipx glyphicon glyphicon-share-alt" aria-hidden="true"></span></a><a href="#911" class="ml10" data-toggle="modal" data-target="#911" data-type="comment" data-id="1050000002628113" data-typetext="评论" data-placement="top" title="举报"><span class="glyphicon glyphicon-flag" aria-hidden="true"></span></a></span></p></div></div><div class="widget-comments__item hover-show " id="1050000002628612"><div class="votes widget-vote"><button class="like  hover-show-obj" data-id="1050000002628612" type="button" data-do="like" data-type="comment"></button><span class="count">&nbsp;</span>    </div><div class="comment-content wordbreak">          <div class="content fmt"><p>哦谢谢哈</p>
                </div><textarea name="text" rows="1" id="commentText-1050000002628612" class="editTextarea form-control mb10 hidden">哦谢谢哈</textarea><p class="comment-meta">            <a href="/c/1050000002628612" class="text-muted"></a>&nbsp;<a href="/u/feiqingqinglvxingzailushang" class="commentUser" data-userid="1030000002493894" data-username="EMMA" data-userslug="feiqingqinglvxingzailushang" data-useravatar="https://sf-static.b0.upaiyun.com/v-56d02577/global/img/user-40.png"><strong>EMMA</strong></a> · <span class="createdDate">2015年03月28日</span><span class="pull-right commentTools hover-show-obj"> <a href="#" class="commentReply mr5" data-userid="1030000002493894" data-id="1050000002628612" data-username="EMMA"><span class="flipx glyphicon glyphicon-share-alt" aria-hidden="true"></span></a><a href="#911" class="ml10" data-toggle="modal" data-target="#911" data-type="comment" data-id="1050000002628612" data-typetext="评论" data-placement="top" title="举报"><span class="glyphicon glyphicon-flag" aria-hidden="true"></span></a></span></p></div></div><div class="widget-comments__item hover-show " id="1050000002643376"><div class="votes widget-vote"><button class="like  hover-show-obj" data-id="1050000002643376" type="button" data-do="like" data-type="comment"></button><span class="count">&nbsp;</span>    </div><div class="comment-content wordbreak">          <div class="content fmt"><p>问个问题，请大神解答：<br>
                    RequireJs优化时可以根据依赖将所用到的Js压缩合并成一份，那么这就会存在冗余压缩<br>
                    例如jquery、backbone被很多js模块所依赖，a.js依赖它们，b.js依赖它们<br>
                    那么jquery、backbone会被2次压进去，这种方式好？还是说想办法将公共部分提取出来？<br>
                    如果要提取，该如何提取呢？<br>
                    如果您有时间，可以写篇文章讲讲一些实际优化中遇到的问题以及解决方案吗</p>
                </div><textarea name="text" rows="1" id="commentText-1050000002643376" class="editTextarea form-control mb10 hidden">问个问题，请大神解答：
RequireJs优化时可以根据依赖将所用到的Js压缩合并成一份，那么这就会存在冗余压缩
例如jquery、backbone被很多js模块所依赖，a.js依赖它们，b.js依赖它们
那么jquery、backbone会被2次压进去，这种方式好？还是说想办法将公共部分提取出来？
如果要提取，该如何提取呢？
如果您有时间，可以写篇文章讲讲一些实际优化中遇到的问题以及解决方案吗</textarea><p class="comment-meta">            <a href="/c/1050000002643376" class="text-muted"></a>&nbsp;<a href="/u/shizijia" class="commentUser" data-userid="1030000002643335" data-username="十字架" data-userslug="shizijia" data-useravatar="https://sf-static.b0.upaiyun.com/v-56d02577/global/img/user-40.png"><strong>十字架</strong></a> · <span class="createdDate">2015年04月02日</span><span class="pull-right commentTools hover-show-obj"> <a href="#" class="commentReply mr5" data-userid="1030000002643335" data-id="1050000002643376" data-username="十字架"><span class="flipx glyphicon glyphicon-share-alt" aria-hidden="true"></span></a><a href="#911" class="ml10" data-toggle="modal" data-target="#911" data-type="comment" data-id="1050000002643376" data-typetext="评论" data-placement="top" title="举报"><span class="glyphicon glyphicon-flag" aria-hidden="true"></span></a></span></p></div></div><div class="widget-comments__item hover-show " id="1050000002786402"><div class="votes widget-vote"><button class="like  hover-show-obj" data-id="1050000002786402" type="button" data-do="like" data-type="comment"></button><span class="count">&nbsp;</span>    </div><div class="comment-content wordbreak">  <span>回复 <a href="/u/feiqingqinglvxingzailushang">EMMA</a>：</span>        <div class="content fmt"><p>这个应该不能直接引用的，需要在path中进行配置才可以的。</p>
                </div><textarea name="text" rows="1" id="commentText-1050000002786402" class="editTextarea form-control mb10 hidden">这个应该不能直接引用的，需要在path中进行配置才可以的。</textarea><p class="comment-meta">            <a href="/c/1050000002786402" class="text-muted"></a>&nbsp;<a href="/u/sampan" class="commentUser" data-userid="1030000002676760" data-username="SAMPAN" data-userslug="sampan" data-useravatar="https://sfault-avatar.b0.upaiyun.com/158/803/1588031242-5590da6d55e22_medium40"><strong>SAMPAN</strong></a> · <span class="createdDate">2015年05月22日</span><span class="pull-right commentTools hover-show-obj"> <a href="#" class="commentReply mr5" data-userid="1030000002676760" data-id="1050000002786402" data-username="SAMPAN"><span class="flipx glyphicon glyphicon-share-alt" aria-hidden="true"></span></a><a href="#911" class="ml10" data-toggle="modal" data-target="#911" data-type="comment" data-id="1050000002786402" data-typetext="评论" data-placement="top" title="举报"><span class="glyphicon glyphicon-flag" aria-hidden="true"></span></a></span></p></div></div><div class="widget-comments__item hover-show " id="1050000003777721"><div class="votes widget-vote"><button class="like  hover-show-obj" data-id="1050000003777721" type="button" data-do="like" data-type="comment"></button><span class="count">&nbsp;</span>    </div><div class="comment-content wordbreak">          <div class="content fmt"><p>谢谢楼主的翻译，对我帮助很大！</p> </div><textarea name="text" rows="1" id="commentText-1050000003777721" class="editTextarea form-control mb10 hidden">谢谢楼主的翻译，对我帮助很大！</textarea><p class="comment-meta">            <a href="/c/1050000003777721" class="text-muted"></a>&nbsp;<a href="/u/dusdong" class="commentUser" data-userid="1030000002430693" data-username="dusdong" data-userslug="dusdong" data-useravatar="https://sfault-avatar.b0.upaiyun.com/284/399/284399724-56d231357fa91_medium40"><strong>dusdong</strong></a> · <span class="createdDate">2015年09月22日</span><span class="pull-right commentTools hover-show-obj"> <a href="#" class="commentReply mr5" data-userid="1030000002430693" data-id="1050000003777721" data-username="dusdong"><span class="flipx glyphicon glyphicon-share-alt" aria-hidden="true"></span></a><a href="#911" class="ml10" data-toggle="modal" data-target="#911" data-type="comment" data-id="1050000003777721" data-typetext="评论" data-placement="top" title="举报"><span class="glyphicon glyphicon-flag" aria-hidden="true"></span></a></span></p></div></div><div class="widget-comments__item hover-show " id="1050000003852460"><div class="votes widget-vote"><button class="like  hover-show-obj" data-id="1050000003852460" type="button" data-do="like" data-type="comment"></button><span class="count">&nbsp;</span>    </div><div class="comment-content wordbreak">          <div class="content fmt"><p>楼主英文真牛</p> </div><textarea name="text" rows="1" id="commentText-1050000003852460" class="editTextarea form-control mb10 hidden">楼主英文真牛</textarea><p class="comment-meta">            <a href="/c/1050000003852460" class="text-muted"></a>&nbsp;<a href="/u/lioff" class="commentUser" data-userid="1030000002731158" data-username="lioff" data-userslug="lioff" data-useravatar="https://sf-static.b0.upaiyun.com/v-56d02577/global/img/user-40.png"><strong>lioff</strong></a> · <span class="createdDate">2015年10月13日</span><span class="pull-right commentTools hover-show-obj"> <a href="#" class="commentReply mr5" data-userid="1030000002731158" data-id="1050000003852460" data-username="lioff"><span class="flipx glyphicon glyphicon-share-alt" aria-hidden="true"></span></a><a href="#911" class="ml10" data-toggle="modal" data-target="#911" data-type="comment" data-id="1050000003852460" data-typetext="评论" data-placement="top" title="举报"><span class="glyphicon glyphicon-flag" aria-hidden="true"></span></a></span></p></div></div><div class="widget-comments__item hover-show " id="1050000003852510"><div class="votes widget-vote"><button class="like  hover-show-obj" data-id="1050000003852510" type="button" data-do="like" data-type="comment"></button><span class="count">&nbsp;</span>    </div><div class="comment-content wordbreak">          <div class="content fmt"><p>想问一下，我用 uglify2 压缩之后 并没有清除掉文件中的注释，因为之前直接用 grunt uglify 是会清除掉注释的,在Grunt-requirejs 中压缩却没有去掉注释 如：eval("/<em>*\n </em> @license AngularJS v1.3.7\n <em> (c) 2010-2014 Google, Inc. <a href="http://angularjs.org" target="_blank">http://angularjs.org</a>\n </em> License: MIT\n */\n(function(window, document, undefined)</p> </div><textarea name="text" rows="1" id="commentText-1050000003852510" class="editTextarea form-control mb10 hidden">想问一下，我用 uglify2 压缩之后 并没有清除掉文件中的注释，因为之前直接用 grunt uglify 是会清除掉注释的,在Grunt-requirejs 中压缩却没有去掉注释 如：eval("/**\n * @license AngularJS v1.3.7\n * (c) 2010-2014 Google, Inc. http://angularjs.org\n * License: MIT\n */\n(function(window, document, undefined)</textarea><p class="comment-meta">            <a href="/c/1050000003852510" class="text-muted"></a>&nbsp;<a href="/u/lioff" class="commentUser" data-userid="1030000002731158" data-username="lioff" data-userslug="lioff" data-useravatar="https://sf-static.b0.upaiyun.com/v-56d02577/global/img/user-40.png"><strong>lioff</strong></a> · <span class="createdDate">2015年10月13日</span><span class="pull-right commentTools hover-show-obj"> <a href="#" class="commentReply mr5" data-userid="1030000002731158" data-id="1050000003852510" data-username="lioff"><span class="flipx glyphicon glyphicon-share-alt" aria-hidden="true"></span></a><a href="#911" class="ml10" data-toggle="modal" data-target="#911" data-type="comment" data-id="1050000003852510" data-typetext="评论" data-placement="top" title="举报"><span class="glyphicon glyphicon-flag" aria-hidden="true"></span></a></span></p></div></div><div class="widget-comments__item hover-show " id="1050000004193950"><div class="votes widget-vote"><button class="like  hover-show-obj" data-id="1050000004193950" type="button" data-do="like" data-type="comment"></button><span class="count">&nbsp;</span>    </div><div class="comment-content wordbreak">          <div class="content fmt"><p>jquery应该是不能用路径的形式调用，因为jquery支持amd规范，在里面已经定义好了，必须用define(['jquery])才可以；</p> </div><textarea name="text" rows="1" id="commentText-1050000004193950" class="editTextarea form-control mb10 hidden">jquery应该是不能用路径的形式调用，因为jquery支持amd规范，在里面已经定义好了，必须用define(['jquery])才可以；</textarea><p class="comment-meta">            <a href="/c/1050000004193950" class="text-muted"></a>&nbsp;<a href="/u/m2maomao" class="commentUser" data-userid="1030000003910745" data-username="m2maomao" data-userslug="m2maomao" data-useravatar="https://sfault-avatar.b0.upaiyun.com/104/364/1043649122-56838e666941f_medium40"><strong>m2maomao</strong></a> · <span class="createdDate">2015年12月24日</span><span class="pull-right commentTools hover-show-obj"> <a href="#" class="commentReply mr5" data-userid="1030000003910745" data-id="1050000004193950" data-username="m2maomao"><span class="flipx glyphicon glyphicon-share-alt" aria-hidden="true"></span></a><a href="#911" class="ml10" data-toggle="modal" data-target="#911" data-type="comment" data-id="1050000004193950" data-typetext="评论" data-placement="top" title="举报"><span class="glyphicon glyphicon-flag" aria-hidden="true"></span></a></span></p></div></div>












                    <div class="widget-comments__form row">

                        <div class="col-md-12">
                            请先 <a class="commentLogin" href="javascript:void(0);">登录</a> 后评论
                        </div>

                    </div><!-- /.widget-comments__form -->
                </div><!-- /.widget-comments -->






            </div><!-- /.main -->


            <div class="col-xs-12 col-md-3 side">

                <div class="widget-box no-border">
                    <p class="text-muted">本文隶属于专栏</p>
                    <h4 class="fz16"><a href="/blog/liangyi">两仪</a></h4>

                    <p class="wordbreak">向上努力、不卑不亢、两仪相生</p>


                    <div class="article__widget--author">
                        <a href="/u/liangyi">
                            <img class="avatar-40" src="https://sfault-avatar.b0.upaiyun.com/163/795/1637953227-54601b67a363c_big64" alt="两仪">
                            <span>两仪</span></a>
                        <span class="text-muted">作者</span>

                        <div style="margin-top: 20px;">
                            <button type="button mb20" class="btn btn-default follow-article" data-do="follow" data-type="blog" data-id="1210000000589567">关注专栏
                            </button>
                        </div>


                    </div>

                </div>





                <div class="widget-share__full" data-text="RequireJS进阶:模块的优化及配置的详解" data-url="https://segmentfault.com/a/1190000002403806" data-shorturl="http://sfau.lt/b5kfve"><div style="margin-bottom:10px;">分享扩散：</div><div class="widget-share-network sharer-0" style="display: block;"><ul class="sn-inline"><li data-network="weibo"><a href="javascript:void(0);" class="entypo-weibo icon-sn-weibo share-1" data-toggle="tooltip" data-placement="top" title="" data-original-title="分享至新浪微博">新浪微博</a></li><li data-network="wechart"><a href="javascript:void(0);" class="entypo-wechart icon-sn-weixin share-2" data-toggle="tooltip" data-placement="top" title="" data-original-title="分享至微信">微信</a></li><li data-network="twitter"><a href="javascript:void(0);" class="entypo-twitter icon-sn-twitter share-3" data-toggle="tooltip" data-placement="top" title="" data-original-title="分享至 Twitter">Twitter</a></li><li data-network="facebook"><a href="javascript:void(0);" class="entypo-facebook icon-sn-facebook share-4" data-toggle="tooltip" data-placement="top" title="" data-original-title="分享至 Facebook">Facebook</a></li></ul></div><a type="button" class="btn btn-sm shareMore btn-sn-more" data-toggle="popover" data-placement="top" data-url="https://segmentfault.com/a/1190000002403806" data-shorturl="http://sfau.lt/b5kfve"><span class="icon-sn-dotted" data-original-title="" title=""></span><strong class="visible-xs-inline">•••</strong></a></div>

                <div class="post-nav hidden-xs side-outline hidden-sm" style="display: block; width: 100%; top: 0px;">
                    <div class="panel panel-default widget-outline">
                        <div class="panel-heading">文章目录</div>
                        <div class="panel-body">
                            <div class="nav-body" style="top: 0px;">
                                <div class="highlight-title" style="display: block; top: 0px; height: 27px;"></div>
                                <ul class="articleIndex"><li class="active"><a href="#articleHeader0">概述</a></li><li class=""><a href="#articleHeader1">所需环境</a></li><li class=""><a href="#articleHeader2">配置参数介绍</a></li><li style="list-style:none;"><ul><li><a href="#articleHeader3">appDir</a></li><li><a href="#articleHeader4">baseUrl</a></li><li><a href="#articleHeader5">mainConfigFile</a></li><li><a href="#articleHeader6">paths</a></li><li><a href="#articleHeader7">map</a></li><li><a href="#articleHeader8">packages</a></li><li><a href="#articleHeader9">dir</a></li><li><a href="#articleHeader10">keepBuildDir</a></li><li><a href="#articleHeader11">shim</a></li><li><a href="#articleHeader12">wrapShim</a></li><li><a href="#articleHeader13">locale</a></li><li><a href="#articleHeader14">optimize</a></li><li><a href="#articleHeader15">skipDirOptimize</a></li><li><a href="#articleHeader16">generateSourceMaps</a></li><li><a href="#articleHeader17">normalizeDirDefines</a></li><li><a href="#articleHeader18">uglify</a></li><li><a href="#articleHeader19">uglify2</a></li><li><a href="#articleHeader20">closure</a></li><li><a href="#articleHeader21">optimizeCss</a></li><li><a href="#articleHeader22">cssImportIgnore</a></li><li><a href="#articleHeader23">cssIn</a></li><li><a href="#articleHeader24">out</a></li><li><a href="#articleHeader25">cssPrefix</a></li><li><a href="#articleHeader26">inlineText</a></li><li><a href="#articleHeader27">useStrict</a></li><li><a href="#articleHeader28">pragmas</a></li><li><a href="#articleHeader29">pragmasOnSave</a></li><li><a href="#articleHeader30">has</a></li><li><a href="#articleHeader31">hasOnSave</a></li><li><a href="#articleHeader32">namespace</a></li><li><a href="#articleHeader33">skipPragmas</a></li><li><a href="#articleHeader34">skipModuleInsertion</a></li><li><a href="#articleHeader35">stubModules</a></li><li><a href="#articleHeader36">optimizeAllPluginResources</a></li><li><a href="#articleHeader37">findNestedDependencies</a></li><li><a href="#articleHeader38">removeCombined</a></li><li><a href="#articleHeader39">modules</a></li><li><a href="#articleHeader40">insertRequire</a></li><li><a href="#articleHeader41">name</a></li><li><a href="#articleHeader42">include</a></li><li><a href="#articleHeader43">insertRequire</a></li><li><a href="#articleHeader44">out</a></li><li><a href="#articleHeader45">deps</a></li><li><a href="#articleHeader46">out</a></li><li><a href="#articleHeader47">out</a></li><li><a href="#articleHeader48">wrap</a></li><li><a href="#articleHeader49">wrap</a></li><li><a href="#articleHeader50">wrap</a></li><li><a href="#articleHeader51">wrap</a></li><li><a href="#articleHeader52">fileExclusionRegExp</a></li><li><a href="#articleHeader53">preserveLicenseComments</a></li><li><a href="#articleHeader54">logLevel</a></li><li><a href="#articleHeader55">throwWhen</a></li><li><a href="#articleHeader56">onBuildRead</a></li><li><a href="#articleHeader57">onBuildWrite</a></li><li><a href="#articleHeader58">onModuleBundleComplete</a></li><li><a href="#articleHeader59">rawText</a></li><li><a href="#articleHeader60">cjsTranslate</a></li><li><a href="#articleHeader61">useSourceUrl</a></li><li><a href="#articleHeader62">waitSeconds</a></li><li><a href="#articleHeader63">skipSemiColonInsertion</a></li><li><a href="#articleHeader64">keepAmdefine</a></li><li><a href="#articleHeader65">allowSourceOverwrites</a></li></ul></li><li><a href="#articleHeader66">帮助文档</a></li></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div><!-- /.side -->
        </div>
    </div>
</div>

<div id="shareToWeiboModal" class="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">×</span><span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title">分享</h4>
            </div>
            <div class="modal-body">
                <p class="sfModal-content">
                    分享到微博？
                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default dont-likeweibo" data-dismiss="modal">取消</button>
                <a href="" id="shareLink" class="btn btn-primary done-btn" target="_blank" onclick="$('#shareToWeiboModal').modal('hide')">分享</a>
            </div>
        </div>
    </div>
</div>

<div class="widget-register widget-welcome-question mt20 hidden-xs widget-welcome widget-register-slideUp">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <h2 class="title h4">与我们一起探索更多的未知</h2>
                <p>专业的开发者技术社区，为用户提供多样化的线上知识交流，丰富的线下活动及给力的工作机会</p>
            </div>
            <form action="/api/user/register/fast" method="post">
                <div class="col-sm-5">
                    <div class="form-group mb0">
                        <input type="text" class="form-control" placeholder="邮箱地址" name="mail" required="">
                    </div>
                </div>
                <div class="col-sm-3">
                    <button type="submit" class="btn btn-primary btn-block">加入只需一步</button>
                </div>
                <div class="col-sm-10 mt10 captcha-part" style="display:none;">
                    <div class="row">
                        <div class="col-sm-4 pr0">
                            <input type="text" class="form-control" name="captcha" placeholder="请输入验证码" disabled="" required="">
                        </div>
                        <div class="col-sm-4 pr0">
                            <a href="javascript:void(0)"><img src="" height="35"></a>
                        </div>
                    </div>
                </div>
            </form>
            <a class="close" href="javascript:void(0);"><span>×</span></a>
        </div>
    </div>
</div>

<div class="modal widget-911" id="911">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" data-dismiss="modal" type="button">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title">举报<span data-model="type"></span></h4>
            </div>
            <div class="modal-body">
                <form id="reportForm">
                    <!-- 后台返回信息 -->
                    <p class="alert alert-warning" data-model="returnMsg"></p>
                    <div data-role="base">
                        <p>
                            <strong class="required">我要举报该<span data-model="type"></span>，理由是：</strong>
                        </p>
                        <ul class="list-unstyled" data-model="list"></ul>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-default pull-left" type="button" data-role="back" style="display:none">返回重选</button>
                <button class="btn btn-default" data-dismiss="modal" type="button">取消</button>
                <button class="btn btn-primary" data-role="submit" type="button">提交</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<footer id="footer">
    <div class="container">
        <div class="row hidden-xs">
            <dl class="col-sm-2 site-link">
                <dt>网站相关</dt>
                <dd><a href="/about">关于我们</a></dd>
                <dd><a href="/tos">服务条款</a></dd>
                <dd><a href="/faq">帮助中心</a></dd>
                <dd><a href="/repu">声望与权限</a></dd>
                <dd><a href="/markdown">编辑器语法</a></dd>
                <dd><a href="//weekly.segmentfault.com/">每周精选</a></dd>
                <dd><a href="/app">App 下载</a></dd>
            </dl>
            <dl class="col-sm-2 site-link">
                <dt>联系合作</dt>
                <dd><a href="/contact">联系我们</a></dd>
                <dd><a href="/hiring">加入我们</a></dd>
                <dd><a href="/link">合作伙伴</a></dd>
                <dd><a href="/press">媒体报道</a></dd>
                <dd><a href="https://board.segmentfault.com/">建议反馈</a></dd>
                <dd><a href="http://pan.baidu.com/share/link?shareid=604288&amp;uk=839272106" target="_blank">Logo 下载</a>
                </dd>
            </dl>
            <dl class="col-sm-2 site-link">
                <dt>常用链接</dt>
                <dd><a href="https://chrome.google.com/webstore/detail/segmentfault-%E7%AC%94%E8%AE%B0/pjklfdmleagfaekibdccmhlhellefcfo" target="_blank">笔记插件: Chrome</a></dd>
                <dd><a href="https://addons.mozilla.org/zh-CN/firefox/addon/sf-note-ext/" target="_blank">笔记插件: Firefox</a></dd>
                <dd><a href="//mirrors.segmentfault.com/" target="_blank">文档镜像</a></dd>
                <dd>订阅：<a href="/feeds">问答</a> / <a href="/feeds/blogs">文章</a></dd>
                <dd><a href="/hackathon">黑客马拉松</a></dd>
                <dd><a href="/giveaways" target="_blank">开发者福利</a></dd>
                <!-- <dd><a href="http://zs.segmentfault.com/" target="_blank">一起涨姿势</a></dd> -->
                <dd><a href="https://namebeta.com/" target="_blank">域名搜索注册</a></dd>
            </dl>
            <dl class="col-sm-2 site-link">
                <dt>关注我们</dt>
                <dd><a href="https://github.com/SegmentFault" target="_blank">GitHub</a></dd>
                <dd><a href="https://twitter.com/segment_fault" target="_blank">Twitter</a></dd>
                <!-- <dd><a href="http://page.renren.com/699146294" target="_blank">人人网</a></dd> -->
                <dd><a href="https://www.linkedin.com/company/segmentfault" target="_blank">LinkedIn</a></dd>
                <dd><a href="http://weibo.com/segmentfault" target="_blank">新浪微博</a></dd>
                <dd><a href="http://i.youku.com/segmentfault" target="_blank">优酷主页</a></dd>
                <dd><a href="/blog/segmentfault" target="_blank">开发日志</a></dd>
            </dl>
            <dl class="col-sm-4 site-link" id="license">
                <dt>内容许可</dt>
                <dd>除特别说明外，用户内容均采用 <a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-sa/3.0/cn/">知识共享署名-相同方式共享 3.0 中国大陆许可协议</a> 进行许可
                </dd>
                <dd>本站由 <a target="_blank" href="https://www.upyun.com/?utm_source=segmentfault&amp;utm_medium=link&amp;utm_campaign=upyun&amp;md=segmentfault">又拍云</a> 提供 CDN 存储服务
                </dd>
            </dl>
        </div>
        <div class="copyright">
            Copyright © 2011-2016 SegmentFault. 当前呈现版本 16.02.02<br><a href="http://www.miibeian.gov.cn/" rel="nofollow">浙ICP备15005796号-2</a>
        </div>
        <p class="text-center">
            <a class="js__view--selector hidden-sm hidden-md hidden-lg" data-action="mobile" href="javascript:;">移动版</a>
            <a class="js__view--selector hidden-sm hidden-md hidden-lg" data-action="desktop" href="javascript:;">桌面版</a>
        </p>
    </div>
</footer>

<div id="fixedTools" class="hidden-xs hidden-sm">
    <a id="backtop" class="border-bottom hidden" href="#">回顶部</a>

    <div class="qrcodeWraper">
        <a href="/app#qrcode"><span class="glyphicon glyphicon-qrcode"></span></a>
        <img id="qrcode" class="border" alt="sf-wechat" src="https://sf-static.b0.upaiyun.com/v-56d02577/page/img/app/appQrcode.png">

        <p class="qrcode-text">扫扫下载 App</p>
    </div>
</div>


<div class="app-promotion-bar">
    <a href="javascript:;"><i class="fa fa-close close"></i></a>
    <div class="icon"></div>
    <h5 class="title h5">SegmentFault</h5>
    <p class="describe">一起探索更多未知</p>
    <a class="download-btn btn btn-sm btn-primary" href="/app#qrcode">下载 App</a>
</div>

<script id="loginModal" type="text/template">
    <div class="row bg-white login-modal">
        <div class="col-md-4 col-sm-12 col-md-push-7 login-wrap">
            <h1 class="h4 text-muted login-title">用户登录</h1>
            <form action="/api/user/login" method="POST" role="form" class="mt30">
                <div class="form-group">
                    <label class="control-label">Email</label>
                    <input type="email" class="form-control" name="mail" required placeholder="hello@segmentfault.com">
                </div>
                <div class="form-group">
                    <label class="control-label">密码</label>
                    <input type="password" class="form-control" name="password" required placeholder="密码">
                </div>
                <div class="form-group clearfix">
                    <div class="checkbox pull-left">
                        <label><input name="remember" type="checkbox" value="1" checked> 记住登录状态</label>
                    </div>
                    <button type="submit" class="btn btn-primary pull-right pl20 pr20">登录</button>
                </div>
            </form>
            <p class="h4 text-muted visible-xs-block h4">快速登录</p>
            <div class="widget-login mt30">
                <p class="text-muted mt5 mr10 pull-left hidden-xs">快速登录</p>
                <a href="/user/oauth/google" class="btn btn-default btn-sm btn-sn-google"><span class="icon-sn-bg-google"></span> <strong class="visible-xs-inline">Google 账号</strong></a>
                <a href="/user/oauth/github" class="btn btn-default btn-sm btn-sn-github"><span class="icon-sn-bg-github"></span> <strong class="visible-xs-inline">Github 账号</strong></a>
                <a href="/user/oauth/weibo" class="btn btn-default btn-sm btn-sn-weibo"><span class="icon-sn-bg-weibo"></span> <strong class="visible-xs-inline">新浪微博账号</strong></a>
                <a href="/user/oauth/qq" class="btn btn-default btn-sm btn-sn-qq"><span class="icon-sn-bg-qq"></span> <strong class="visible-xs-inline">QQ 账号</strong></a>
                <a href="/user/oauth/weixin" class="btn btn-default btn-sm btn-sn-weixin"><span class="icon-sn-bg-weixin"></span> <strong class="visible-xs-inline">微信账号</strong></a>
                <button id="loginShowMore" href="javascript:void(0);" class="btn mb5 btn-default btn-sm btn-sn-dotted"><span class="icon-sn-bg-dotted"></span><strong class="visible-xs-inline">•••</strong></button>
                <a href="/user/oauth/twitter" class="btn btn-default btn-sn-twitter btn-sm hidden"><span class="icon-sn-bg-twitter"></span> <strong class="visible-xs-inline">Twitter 账号</strong></a>
                <a href="/user/oauth/facebook" class="btn btn-default btn-sn-facebook btn-sm hidden"><span class="icon-sn-bg-facebook"></span> <strong class="visible-xs-inline">Facebook 账号</strong></a>
                <a href="/user/oauth/douban" class="btn btn-default btn-sn-douban btn-sm hidden"><span class="icon-sn-bg-douban"></span> <strong class="visible-xs-inline">豆瓣账号</strong></a>
            </div>
        </div>
        <div class="login-vline hidden-xs hidden-sm"></div>
        <div class="col-md-4 col-md-pull-3 col-sm-12 login-wrap">
            <h1 class="h4 text-muted login-title">创建新账号</h1>
            <form action="/api/user/register" method="POST" role="form" class="mt30">
                <div class="form-group">
                    <label for="name" class="control-label">用户名</label>
                    <input type="text" class="form-control" name="name" required placeholder="字母、数字等，用户名唯一">
                </div>
                <div class="form-group">
                    <label for="mail" class="control-label">Email</label>
                    <input type="hidden" style="display:none" name="mail">
                    <input type="email" autocomplete="off" class="form-control register-mail" name="mail" required placeholder="hello@segmentfault.com">
                </div>
                <div class="form-group">
                    <label for="password" class="control-label">密码</label>
                    <input type="password" class="form-control" name="password" required placeholder="不少于 6 位">
                </div>
                <div class="form-group" style="display:none;">
                    <label class="required control-label">验证码</label>
                    <input type="text" class="form-control" id="captcha" name="captcha" placeholder="请输入下方的验证码">
                    <div class="mt10"><a id="loginReloadCaptcha"  href="javascript:void(0)"><img data-src="/user/captcha?w=240&h=50" class="captcha" width="240" height="50" /></a></div>
                </div>
                <div class="form-group clearfix">
                    <div class="checkbox pull-left">
                        同意并接受<a href="/tos" target="_blank">《服务条款》</a>
                    </div>
                    <button type="submit" class="btn btn-primary pl20 pr20 pull-right">注册</button>
                </div>
            </form>
        </div>
    </div>
    <div class="text-center text-muted mt30">
        <a href="/user/forgot" class="ml5">找回密码</a>
    </div>
</script>


<script>
    (function (w) {
        w.SF = {
            staticUrl: "https://sf-static.b0.upaiyun.com/v-56d02577"
        };
        w.SF.token = (function () {
            var _piaRrBw = '18'//'Mdp'
                            +'99'//'Gs'
                            +//'s'
                            's'+//'Z'
                            'eb'+'4'//'9B'
                            +'iDB'//'iDB'
                            +//'nMi'
                            '3'+/* 'ln'//'ln' */''+'dd'//'Y'
                            +'4'//'kT'
                            +'f'//'f'
                            +/* 'KE3'//'KE3' */''+/* 'E9'//'E9' */''+/* '3xw'//'3xw' */''+//'0'
                            'd7'+'2m8'//'2m8'
                            +/* '6RU'//'6RU' */''+'459'//'I0'
                            +//'7'
                            'af'+//'J'
                            '1'+'dd6'//'AK3'
                            +//'s'
                            '4'+'8'//'Bz'
                            +//'r'
                            'r'+//'5I4'
                            '6ae'+''///*'m'*/'m'
                            +//'uO'
                            'uO'+'6R'//'6R'
                            +''///*'Pu'*/'Pu'
                            +//'Xp'
                            'b'+//'y'
                            'b'+//'qv'
                            '5'+'ff'//'uxt'
                    , _mt9Whp = [[4,5],[7,10],[11,12],[13,16],[24,25],[27,29],[27,29]];

            for (var i = 0; i < _mt9Whp.length; i ++) {
                _piaRrBw = _piaRrBw.substring(0, _mt9Whp[i][0]) + _piaRrBw.substring(_mt9Whp[i][1]);
            }

            return _piaRrBw;
        })();;
    })(window);

    var lock = {
        type : "",
        text : '',
        table: {"ban_post":[1,"\u4f60\u5df2\u7ecf\u88ab\u7981\u8a00, \u65e0\u6cd5\u8fdb\u884c\u6b64\u64cd\u4f5c, \u5982\u6709\u7591\u4e49\u8bf7\u63d0\u4ea4\u7533\u8bc9, \u6216\u8005\u53d1\u90ae\u4ef6\u5230pr@segmentfault.com"]}
    };
</script>

<script crossorigin="" src="https://sf-static.b0.upaiyun.com/v-56d02577/3rd/assets.js"></script>
<script crossorigin="" src="https://sf-static.b0.upaiyun.com/v-56d02577/blog/js/post.js"></script>


<script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-918487-8']);
    _gaq.push(['_trackPageview']);
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src   = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');






    ga('create', 'UA-918487-8', 'auto', { 'userID': 0, 'createdTime': 0, 'now': 1456714053 });
    ga('set', 'dimension1', 'guest' );
    ga('send', 'pageview');

</script>

<script>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?e23800c454aa573c0ccb16b52665ac26";
        var s  = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>






<div id="noteWidget" class="noteWidget hidden hidden-xs">
    <div class="noteWidget-header clearfix">
        <h2 class="h4 pull-left">记笔记</h2>
        <ul class="list-inline pull-right mb0">
            <li id="noteWidgetMinimize"><span class="icon-minimize"></span></li><li id="noteWidgetZoom"><span class="icon-zoom"></span></li><li id="noteWidgetClose"><span class="icon-close"></span></li>
        </ul>
    </div>
    <form method="POST" action="/api/notes/add" role="form">
        <div class="form-group">
            <label for="title" class="sr-only">标题</label>
            <input type="hidden" value="" id="draftId">
            <input type="text" name="title" data-error="" autocomplete="off" class="form-control" placeholder="笔记描述" value="">
        </div>
        <div class="editor-config clearfix">
            <select name="lang" class="form-control pull-left input-sm">
                <optgroup label="文本语法">
                    <option value="text" data-mode="text">纯文本</option>
                    <option value="markdown" data-mode="markdown">Markdown</option>
                    <option value="javascript" data-mode="javascript">Javascript</option>
                    <option value="css" data-mode="css">CSS</option>
                    <option value="html5" data-mode="htmlmixed">HTML</option>
                    <option value="php" data-mode="php">PHP</option>
                    <option value="python" data-mode="python">Python</option>
                    <option value="ruby" data-mode="ruby">Ruby</option>
                    <option value="go" data-mode="go">Go</option>
                    <option value="c" data-mode="clike">C/C++</option>
                    <option value="java" data-mode="java">Java</option>
                    <option value="bash" data-mode="shell">Shell/Bash</option>
                </optgroup>
            </select>
            <div class="pull-right hidden-xs">
                <select name="indentWithTabs" class="form-control inline-block input-sm">
                    <optgroup label="缩进模式">
                        <option value="false">空格缩进</option>
                        <option value="true">Tabs 缩进</option>
                    </optgroup>
                </select>
                <select name="tabSize" class="form-control inline-block input-sm">
                    <optgroup label="缩进大小">
                        <option value="2">2</option>
                        <option value="4" selected="">4</option>
                    </optgroup>
                </select>
                <select name="lineWrap" class="form-control inline-block input-sm">
                    <optgroup label="换行方式">
                        <option value="true">自动换行</option>
                        <option value="false">不换行</option>
                    </optgroup>
                </select>
            </div>
        </div>
        <textarea id="codeMirror" class="form-control" style="display: none;"></textarea><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-hscrollbar" style="left: 0px;"><div style="height: 100%; min-height: 1px;"></div></div><div class="CodeMirror-vscrollbar"><div style="min-width: 1px;"></div></div><div class="CodeMirror-scrollbar-filler"></div><div class="CodeMirror-gutter-filler"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px;"><div style="position: relative;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code"></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px;"></div><div class="CodeMirror-gutters"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 1px;"></div></div></div></div>
        <div class="mt20 clearfix">
            <div class="pull-right">
                <span class="text-muted hidden" id="editorStatus">已保存</span>
                <a id="dropIt" href="javascript:void(0);" class="mr10 hidden">[舍弃]</a>
                <button data-type="note" id="publishIt2" class="btn btn-default ml10" data-id="" data-do="add" data-url="" data-text="保存私密笔记" data-name="">保存私密笔记</button>
                <button data-type="note" id="publishIt" class="btn btn-primary ml10" data-id="" data-do="add" data-url="" data-text="保存公开笔记" data-name="">保存公开笔记</button>
            </div>
        </div>
    </form></div>

<div id="global-zeroclipboard-html-bridge" class="global-zeroclipboard-container" style="position: absolute; left: 0px; top: -9999px; width: 1px; height: 1px; z-index: 999999999;"><object id="global-zeroclipboard-flash-bridge" name="global-zeroclipboard-flash-bridge" width="100%" height="100%" type="application/x-shockwave-flash" data="https://sf-static.b0.upaiyun.com/v-56d02577/3rd/zeroclipboard/dist/ZeroClipboard.swf?noCache=1456714054386"><param name="allowScriptAccess" value="always"><param name="allowNetworking" value="all"><param name="menu" value="false"><param name="wmode" value="transparent"><param name="flashvars" value="trustedOrigins=segmentfault.com%2C%2F%2Fsegmentfault.com%2Chttps%3A%2F%2Fsegmentfault.com&amp;swfObjectId=global-zeroclipboard-flash-bridge"></object></div><div id="atwho-container"></div>
</body>
</html>